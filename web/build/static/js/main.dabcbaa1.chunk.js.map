{"version":3,"sources":["images/map-marker.svg","images/logo.svg","pages/Landing.tsx","utils/mapicon.ts","services/api.ts","pages/OrphanagesMap.tsx","components/Sidebar.tsx","pages/Orphanage.tsx","pages/CreateOrphanage.tsx","routes.tsx","App.tsx","index.tsx"],"names":["module","exports","Landing","id","className","src","logoImg","alt","to","size","color","mapIcon","Leaflet","icon","iconUrl","mapMarkerImg","iconSize","iconAnchor","popupAnchor","api","axios","create","baseURL","OrphanagesMap","useState","orphanages","setOrphanages","useEffect","get","then","response","data","Map","center","zoom","style","width","height","TileLayer","url","process","map","orphanage","Marker","key","position","latitude","longitude","Popup","closeButton","minWidth","maxWidth","name","Sidebar","goBack","useHistory","type","onClick","Orphanage","params","useParams","setOrphanage","activeImageIndex","setActiveImageIndex","images","image","index","about","dragging","touchZoom","zoomControl","scrollWheelZoom","doubleClickZoom","interactive","target","rel","href","instructions","opening_hours","open_on_weekends","CreateOrphanage","history","setPosition","setName","setAbout","setInstructions","setOpeningHours","setOpenOnWeekends","setImages","previewImages","setPreviewImages","event","a","preventDefault","FormData","append","String","forEach","post","alert","push","onSubmit","onclick","latlng","lat","lng","htmlFor","value","onChange","maxLength","multiple","files","selectedImages","Array","from","selectedImagesPreview","URL","createObjectURL","Routes","path","exact","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dabcbaa1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map-marker.658b8302.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.1653c647.svg\";","import React from 'react';\r\nimport { FiArrowRight } from 'react-icons/fi';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport '../styles/pages/landing.css'\r\nimport logoImg from '../images/logo.svg';\r\n\r\n\r\n\r\nfunction Landing() {\r\n  return(\r\n    <div id=\"page-landing\">\r\n      <div className=\"content-wrapper\">\r\n        <img src={logoImg} alt=\"Happy\"/>\r\n\r\n        <main>\r\n          <h1>Leve felicidade para o mundo</h1>\r\n          <p>Visite orfanatos e mude o dia de muitas crianças.</p>\r\n        </main>\r\n\r\n        <div className=\"location\">\r\n          <strong>Sorocaba</strong>\r\n          <span>São Paulo</span>\r\n        </div>\r\n\r\n        <Link to=\"/app\" className=\"enter-app\">\r\n          <FiArrowRight size={26} color=\"rgba(0, 0, 0, 0.6)\" />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Landing;","import Leaflet from 'leaflet';\r\n\r\nimport mapMarkerImg from '../images/map-marker.svg'\r\n\r\nconst mapIcon = Leaflet.icon({\r\n  iconUrl: mapMarkerImg,\r\n\r\n  iconSize: [58, 68],\r\n  iconAnchor: [29, 68],\r\n  popupAnchor: [0, -60]\r\n})\r\n\r\nexport default mapIcon;","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3333',\r\n});\r\n\r\nexport default api;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FiPlus, FiArrowRight } from 'react-icons/fi';\r\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\r\n\r\nimport '../styles/pages/orphanages-map.css';\r\n\r\nimport mapMarkerImg from '../images/map-marker.svg'\r\nimport mapIcon from '../utils/mapicon';\r\nimport api from '../services/api'\r\n\r\ninterface Orphanage {\r\n  id: number;\r\n  latitude: number;\r\n  longitude: number;\r\n  name: string;\r\n}\r\n\r\nfunction OrphanagesMap() {\r\n\r\n  const [orphanages, setOrphanages] = useState<Orphanage[]>([]);\r\n\r\n  useEffect(() => {\r\n    api.get('orphanages').then(response => {\r\n      setOrphanages(response.data);\r\n    })\r\n  }, [])\r\n\r\n  return(\r\n    <div id=\"page-map\">\r\n      <aside>\r\n        <header>\r\n          <img src={mapMarkerImg} alt=\"Happy\"/>\r\n\r\n          <h2>Escolha um orfanato no mapa</h2>\r\n          <p>Muitas crianças estão esperando a sua visita :)</p>\r\n        </header>\r\n\r\n        <footer>\r\n          <strong>Sorocaba</strong>\r\n          <span>São Paulo</span>\r\n        </footer>\r\n      </aside>\r\n\r\n      <Map \r\n        center={[-23.4939464,-47.458847]}\r\n        zoom={15}\r\n        style={{ width: '100%', height: '100%' }}\r\n      >\r\n        {/* {<TileLayer url=\"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\" />} */}\r\n\r\n        <TileLayer \r\n          url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\r\n        />\r\n\r\n         {orphanages.map(orphanage => {\r\n           return (\r\n            <Marker\r\n            key={orphanage.id}\r\n            icon = {mapIcon}\r\n            position={[orphanage.latitude, orphanage.longitude]}\r\n            >\r\n             <Popup closeButton={false} minWidth={248} maxWidth={248} className=\"map-popup\">\r\n              {orphanage.name}\r\n              <Link to={`/orphanages/${orphanage.id}`}>\r\n                <FiArrowRight size={20} color=\"#FFF\" />\r\n              </Link>\r\n             </Popup>\r\n           </Marker>\r\n           );\r\n         })}\r\n      </Map>\r\n\r\n    <Link to=\"/orphanages/create\" className=\"create-orphanage\">\r\n      <FiPlus size={32} color=\"#fff\" />\r\n    </Link>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrphanagesMap;","import React from 'react';\r\nimport { FiArrowLeft } from \"react-icons/fi\";\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport mapMarkerImg from '../images/map-marker.svg'\r\n\r\nimport '../styles/components/sidebar.css'\r\n\r\n\r\n\r\nexport default function Sidebar() {\r\n\r\n  const { goBack } = useHistory();\r\n\r\n  return (\r\n    <aside className=\"app-sidebar\">\r\n    <img src={mapMarkerImg} alt=\"Happy\" />\r\n\r\n    <footer>\r\n      <button type=\"button\" onClick={goBack}>\r\n        <FiArrowLeft size={24} color=\"#FFF\" />\r\n      </button>\r\n    </footer>\r\n  </aside>\r\n  );\r\n}","import React, { useEffect, useState } from \"react\";\n// import { FaWhatsapp } from \"react-icons/fa\";\nimport { FiClock, FiInfo } from \"react-icons/fi\";\nimport { Map, Marker, TileLayer } from \"react-leaflet\";\nimport { useParams } from 'react-router-dom';\n\nimport '../styles/pages/orphanage.css';\nimport Sidebar from '../components/Sidebar';\nimport mapIcon from \"../utils/mapicon\"\nimport api from \"../services/api\";\n\ninterface Orphanage {\n  latitude: number;\n  longitude: number;\n  name: string;\n  about: string;\n  instructions: string;\n  opening_hours: string;\n  open_on_weekends: string;\n  images: Array<{\n    id: number; \n    url: string,\n  }>;\n}\n\ninterface OrphanageParams {\n  id: string; \n}\n\nexport default function Orphanage() {\n  const params = useParams<OrphanageParams>();\n\n  const [orphanage, setOrphanage] = useState<Orphanage>();\n  const [activeImageIndex, setActiveImageIndex] = useState(0)\n\n  useEffect(() => {\n    api.get(`orphanages/${params.id}`).then(response => {\n      setOrphanage(response.data);\n    })\n  }, [params.id]);\n\n  if (!orphanage) {\n    return <p>Carregando...</p>\n  }\n\n  return (\n    <div id=\"page-orphanage\">\n      <Sidebar />\n\n      <main>\n        <div className=\"orphanage-details\">\n          <img src={orphanage.images[activeImageIndex].url } alt={orphanage.name} /> \n\n          <div className=\"images\">\n            {orphanage.images.map((image, index) => {\n              return (\n                <button \n                  key={image.id} \n                  className={activeImageIndex === index ? 'active' : ''}\n                  type=\"button\"\n                  onClick={() => {\n                    setActiveImageIndex(index)\n                  }}\n                >\n                <img src={image.url} alt={orphanage.name} />\n              </button>\n              );\n            })}\n          </div>\n          \n          <div className=\"orphanage-details-content\">\n            <h1>{orphanage.name}</h1>\n            <p>\n              {orphanage.about}\n            </p>\n\n            <div className=\"map-container\">\n              <Map \n                center={[orphanage.latitude,orphanage.longitude]} \n                zoom={16} \n                style={{ width: '100%', height: 280 }}\n                dragging={false}\n                touchZoom={false}\n                zoomControl={false}\n                scrollWheelZoom={false}\n                doubleClickZoom={false}\n              >\n                <TileLayer \n                  url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n                />\n                <Marker interactive={false} icon={mapIcon} position={[orphanage.latitude,orphanage.longitude]} />\n              </Map>\n\n              <footer>\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://www.google.com/maps/dir/?api=1&destination=${orphanage.latitude},${orphanage.longitude}`}>Ver rotas no Google Maps</a>\n              </footer>\n            </div>\n\n            <hr />\n\n            <h2>Instruções para visita</h2>\n            <p>{orphanage.instructions}</p>\n\n            <div className=\"open-details\">\n              <div className=\"hour\">\n                <FiClock size={32} color=\"#15B6D6\" />\n                Segunda à Sexta <br />\n                {orphanage.opening_hours}\n              </div>\n              { orphanage.open_on_weekends ? (\n                <div className=\"open-on-weekends\">\n                  <FiInfo size={32} color=\"#39CC83\" />\n                  Atendemos <br />\n                  fim de semana\n                </div>\n              ) : (\n              <div className=\"open-on-weekends dont-open\">\n                <FiInfo size={32} color=\"#FF6690\" />\n                Não atendemos <br />\n                fim de semana\n              </div>\n              )}\n            </div>\n\n            {/* <button type=\"button\" className=\"contact-button\">\n              <FaWhatsapp size={20} color=\"#FFF\" />\n              Entrar em contato\n            </button> */}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}","import React, { ChangeEvent, FormEvent, useState } from \"react\";\nimport { Map, Marker, TileLayer } from 'react-leaflet';\nimport { LeafletMouseEvent } from 'leaflet'\n\nimport { FiPlus } from \"react-icons/fi\";\n\nimport '../styles/pages/create-orphanage.css';\nimport Sidebar from '../components/Sidebar';\nimport mapIcon from \"../utils/mapicon\"\nimport api from \"../services/api\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function CreateOrphanage() {\n  const history = useHistory()\n\n  const [position, setPosition] = useState({ latitude: 0, longitude: 0 });\n\n  const [name, setName] = useState('');\n  const [about, setAbout] = useState('');\n  const [instructions, setInstructions] = useState('');\n  const [opening_hours, setOpeningHours] = useState('');\n  const [open_on_weekends, setOpenOnWeekends] = useState(true);\n  const [images, setImages] = useState<File[]>([]);\n  const [previewImages, setPreviewImages] = useState<string[]>([])\n  \n  function handleMapClick(event: LeafletMouseEvent) {\n    const { lat, lng } = event.latlng;\n\n    setPosition({\n      latitude: lat,\n      longitude: lng,\n    });\n  }\n\n  function handleSelectImages(event: ChangeEvent<HTMLInputElement>) {\n    if(!event.target.files){\n      return;\n    }\n\n    const selectedImages = Array.from(event.target.files);\n\n    setImages(selectedImages);\n\n    const selectedImagesPreview = selectedImages.map(image => {\n      return URL.createObjectURL(image);\n    });\n\n    setPreviewImages(selectedImagesPreview);\n  }\n\n  async function handleSubmit(event: FormEvent) {\n    event.preventDefault();\n\n    const { latitude, longitude } = position\n\n    const data = new FormData();\n\n    data.append('name', name);\n    data.append('about', about);\n    data.append('latitude', String(latitude));\n    data.append('longitude', String(longitude));\n    data.append('instructions', instructions);\n    data.append('opening_hours', opening_hours);\n    data.append('open_on_weekends', String(open_on_weekends));\n\n    images.forEach(image => {\n      data.append('images', image);\n    });\n\n    await api.post('orphanages', data);\n\n    alert('Cadastro realizado com sucesso!');\n\n    history.push('/app');\n\n  }\n\n  return (\n    <div id=\"page-create-orphanage\">\n     <Sidebar />\n\n      <main>\n        <form onSubmit={handleSubmit} className=\"create-orphanage-form\">\n          <fieldset>\n            <legend>Dados</legend>\n\n            <Map \n              center={[-23.4939464,-47.458847]}\n              style={{ width: '100%', height: 280 }}\n              zoom={15}\n              onclick={handleMapClick}\n            >\n\n              {/* {<TileLayer url=\"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\" />} */}\n\n              <TileLayer \n                url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n              />\n\n              { position.latitude !== 0 && (\n                <Marker \n                interactive={false} \n                icon={mapIcon} \n                position={[\n                  position.latitude, \n                  position.longitude\n                ]}\n                />\n              )}\n\n            </Map>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"name\">Nome</label>\n              <input \n                id=\"name\" \n                value={name} \n                onChange={event => setName(event.target.value)}/>\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">Sobre <span>Máximo de 300 caracteres</span></label>\n              <textarea \n                id=\"name\" \n                maxLength={300}\n                value={about} \n                onChange={event => setAbout(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"images\">Fotos</label>\n\n              <div className=\"images-container\">\n                {previewImages.map(image => {\n                  return(\n                    <img key={image} src={image} alt={name}/>\n                  );\n                })}\n                <label htmlFor=\"image[]\" className=\"new-image\">\n                  <FiPlus size={24} color=\"#15b6d6\" />\n                </label>\n              </div>\n              <input multiple onChange={handleSelectImages} type=\"file\" id=\"image[]\"/>\n\n            </div>\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"instructions\">Instruções</label>\n              <textarea \n                id=\"instructions\" \n                value={instructions} \n                onChange={event => setInstructions(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"opening_hours\">Horario de functionamento</label>\n              <input \n                id=\"opening_hours\" \n                value={opening_hours} \n                onChange={event => setOpeningHours(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\n\n              <div className=\"button-select\">\n                <button \n                type=\"button\" \n                className={open_on_weekends ? 'active' : ''}\n                onClick={() => setOpenOnWeekends(true)}\n                >\n                  Sim\n                </button>\n\n                <button \n                type=\"button\"\n                className={!open_on_weekends ? 'active' : ''}\n                onClick={() => setOpenOnWeekends(false)}\n                >\n                  Não\n                </button>\n              </div>\n            </div>\n          </fieldset>\n\n          <button className=\"confirm-button\" type=\"submit\">\n            Confirmar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n\n// return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;\n","import React from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport Landing from './pages/Landing';\r\nimport OrphanagesMap from './pages/OrphanagesMap';\r\nimport Orphanage from './pages/Orphanage';\r\nimport CreateOrphanage from './pages/CreateOrphanage';\r\n\r\nfunction Routes() {\r\n  return(\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Landing} />\r\n        <Route path=\"/app\" component={OrphanagesMap} />\r\n\r\n        <Route path=\"/orphanages/create\" component={CreateOrphanage} />\r\n        <Route path=\"/orphanages/:id\" component={Orphanage} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n\r\n// 'Switch' faz com que apenas uma unica rota seja exibida em tela por vez","import React from 'react';\n\nimport './styles/global.css'\nimport 'leaflet/dist/leaflet.css';\n\nimport Routes from './routes'\n\n\n\nfunction App() {\n  return (\n    <Routes />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}